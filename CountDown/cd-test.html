<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>倒计时</title>
</head>
<body>
    <div id="time1"></div>
</body>

<script src="CountDownFactory.js"></script>
<script src="CountDown.js"></script>
<script>
    
    countDown.style.byMils = function (obj) {

        this.dom = obj.dom;
        this.startMS = obj.startMS;
        this.endMS = obj.endMS;

        this.count = 0;

        var _this = this;
        
        this.render = function () {

            var currentMS = +new Date(),
                    diff = (_this.endMS - currentMS) / 1000,

            d = countDown.leftPad(d, 2, 0);
            d.replace(/(\d)/g, '<span>$1</span>');
            _this.dom.innerHTML = '倒计时：' + diff + '秒  (刷新次数:' + ++_this.count + ')';
            if(currentMS > _this.endMS) {
                clearInterval(_this.timer);

                _this.callback && _this.callback();
                _this.dom.innerHTML = '倒计时结束';
            }
        }
    };

    /*countDown.create({
        id: 'time1',
        style: 'byMils',
        endTime: '2016-11-11 17:27:00'
    }).go(function () {
        console.log('end')
    })*/

</script>
</html>